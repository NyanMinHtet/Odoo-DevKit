<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <data>
        <template id="swagger_ui_template" name="Swagger UI">
            <head>
                <title>Swagger UI</title>
                <link
                    rel="stylesheet"
                    type="text/css"
                    href="/web_swagger_ui/static/src/lib/swagger-ui/swagger-ui.css"
                />
                <style>
                    html {
                        box-sizing: border-box;
                        overflow: -moz-scrollbars-vertical;
                        overflow-y: scroll;
                    }
                    *,
                    *:before,
                    *:after {
                        box-sizing: inherit;
                    }
                    body {
                        margin: 0;
                        background: #fafafa;
                    }
                </style>
            </head>
            <body>
                <div id="swagger-ui" />
                <script
                    src="/web_swagger_ui/static/src/lib/swagger-ui/swagger-ui-bundle.js"
                />
                <script
                    src="/web_swagger_ui/static/src/lib/swagger-ui/swagger-ui-standalone-preset.js"
                />
                <script>
                    window.onload = function() {
                        // Begin Swagger UI call region
                        const ui = SwaggerUIBundle({
                            url: "/web_swagger_ui/static/src/swagger.json",
                            dom_id: '#swagger-ui',
                            deepLinking: true,
                            presets: [
                                SwaggerUIBundle.presets.apis,
                                SwaggerUIStandalonePreset
                            ],
                            plugins: [
                                SwaggerUIBundle.plugins.DownloadUrl
                            ],
                            layout: "StandaloneLayout"
                        })
                        // End Swagger UI call region
                        window.ui = ui
                    }
                </script>
            </body>
        </template>

        <record id="action_swagger_ui" model="ir.actions.act_url">
            <field name="name">Swagger UI</field>
            <field name="url">/swagger/ui</field>
            <field name="target">new</field>
        </record>

        <record id="swagger_ui_menu" model="ir.ui.menu">
            <field name="name">Swagger UI</field>
            <field name="parent_id" ref="base.menu_administration" />
            <field name="action" eval="False" />
            <field name="sequence" eval="0" />
        </record>

        <record id="swagger_ui_menu_action" model="ir.ui.menu">
            <field name="name">API Documentation</field>
            <field name="parent_id" ref="web_swagger_ui.swagger_ui_menu" />
            <field name="action" ref="web_swagger_ui.action_swagger_ui" />
            <field name="sequence" eval="10" />
        </record>
    </data>
</odoo>
